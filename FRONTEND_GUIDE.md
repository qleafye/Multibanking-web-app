# üìù –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Frontend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FastAPI

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º —Å–µ—Ä–≤–∏—Å–æ–º –Ω–∞ FastAPI.

---

## üéØ –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞

–í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –æ—Ç **Java-—Å–µ—Ä–≤–∏—Å–∞**, –∞ –∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ **Python-—Å–µ—Ä–≤–∏—Å (FastAPI)**.

## üåä –û–±—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Workflow)

1.  **–®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Java-—Å–µ—Ä–≤–∏—Å–∞.**
    *   –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `GET` –∑–∞–ø—Ä–æ—Å –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç Java-—Å–µ—Ä–≤–∏—Å–∞: `http://localhost:8080/api/v1/transactions`.
    *   –í –æ—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

2.  **–®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ FastAPI.**
    *   –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ JSON-–æ–±—ä–µ–∫—Ç, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞".
    *   –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `POST` –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç FastAPI: `http://127.0.0.1:8000/analyze`.

3.  **–®–∞–≥ 3: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.**
    *   FastAPI –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ–±—ä–µ–∫—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞ (–Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏).
    *   –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –∫—Ä–∞—Å–∏–≤–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---

## üõ†Ô∏è API –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (FastAPI)

### –≠–Ω–¥–ø–æ–∏–Ω—Ç: `POST /analyze`

-   **URL:** `http://127.0.0.1:8000/analyze`
-   **Method:** `POST`
-   **Headers:** `Content-Type: application/json`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ (Request Body)

–í—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å JSON-–æ–±—ä–µ–∫—Ç —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å—Ç—Ä–æ–µ–Ω–∏–µ–º:

```json
{
  "transactions": [
    {
      "id": "string",
      "date": "string (YYYY-MM-DD)",
      "amount": "number",
      "currency": "string (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'RUB')",
      "description": "string"
    },
    {
      "id": "string",
      "date": "string (YYYY-MM-DD)",
      "amount": "number",
      "currency": "string",
      "description": "string"
    }
  ]
}
```

-   `transactions`: **(–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)** –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç ‚Äî —ç—Ç–æ –æ–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è.
    -   `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
    -   `date`: –î–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `–ì–ì–ì–ì-–ú–ú-–î–î`.
    -   `amount`: –°—É–º–º–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—á–∏—Å–ª–æ).
    -   `currency`: –í–∞–ª—é—Ç–∞.
    -   `description`: –û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞).

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ (Success Response)

–í —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (—Å—Ç–∞—Ç—É—Å `200 OK`), –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π JSON:

```json
{
  "subscriptions": [
    {
      "name": "string (–Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, 'Yandex.Plus')",
      "amount": "number (—Å—É–º–º–∞ —Å–ø–∏—Å–∞–Ω–∏—è)",
      "last_payment_date": "string (YYYY-MM-DD)",
      "potential_savings": {
        "service_name": "string (–Ω–∞–∑–≤–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã)",
        "saving_amount": "number (—Å–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å)"
      }
    }
  ],
  "pro_version_suggestions": [
    {
      "service_name": "string (–Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞)",
      "suggestion": "string (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ Pro-–≤–µ—Ä—Å–∏–∏)"
    }
  ]
}
```

-   `subscriptions`: –ú–∞—Å—Å–∏–≤ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π (–ø–æ–¥–ø–∏—Å–æ–∫).
    -   `potential_savings`: –û–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–æ–∑–º–æ–∂–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∏, –µ—Å–ª–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –µ—Å—Ç—å –±–æ–ª–µ–µ –¥–µ—à–µ–≤–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –≤ `knowledge_base.json`.
-   `pro_version_suggestions`: –ú–∞—Å—Å–∏–≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ "Pro" —Ç–∞—Ä–∏—Ñ—ã.

---

##  ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ (–ü—Ä–∏–º–µ—Ä)

**1. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç Java-—Å–µ—Ä–≤–∏—Å–∞ (`GET /api/v1/transactions`):**

```json
[
  {
    "id": "a1b2-c3d4-e5f6",
    "date": "2025-10-20",
    "amount": 399.0,
    "currency": "RUB",
    "description": "Payment for Yandex.Plus subscription"
  },
  {
    "id": "g7h8-i9j0-k1l2",
    "date": "2025-10-15",
    "amount": 10.0,
    "currency": "USD",
    "description": "Purchase from Steam Store"
  }
]
```

**2. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ FastAPI (`POST /analyze`):**

```json
{
  "transactions": [
    {
      "id": "a1b2-c3d4-e5f6",
      "date": "2025-10-20",
      "amount": 399.0,
      "currency": "RUB",
      "description": "Payment for Yandex.Plus subscription"
    },
    {
      "id": "g7h8-i9j0-k1l2",
      "date": "2025-10-15",
      "amount": 10.0,
      "currency": "USD",
      "description": "Purchase from Steam Store"
    }
  ]
}
```

**3. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç FastAPI (—Å—Ç–∞—Ç—É—Å `200 OK`):**

```json
{
  "subscriptions": [
    {
      "name": "Yandex.Plus",
      "amount": 399.0,
      "last_payment_date": "2025-10-20",
      "potential_savings": {
        "service_name": "MTS Premium",
        "saving_amount": 150.0
      }
    }
  ],
  "pro_version_suggestions": [
    {
      "service_name": "Yandex.Plus",
      "suggestion": "–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–µ–º–µ–π–Ω—ã–π —Ç–∞—Ä–∏—Ñ 'Plus Multi' –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–æ 4 —á–µ–ª–æ–≤–µ–∫ –∏ —ç–∫–æ–Ω–æ–º—å—Ç–µ –¥–æ 50%!"
    }
  ]
}
```

---

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

-   **–°—Ç–∞—Ç—É—Å `422 Unprocessable Entity`**:
    -   **–ü—Ä–∏—á–∏–Ω–∞:** –í—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –Ω–µ–≤–µ—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `transactions` –∏–ª–∏ `date` –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç).
    -   **–ß—Ç–æ –¥–µ–ª–∞—Ç—å:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–∞—à–µ–≥–æ JSON-–∑–∞–ø—Ä–æ—Å–∞. –í —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞ –±—É–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏.
    -   **–ü—Ä–∏–º–µ—Ä —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞ `422`:**
        ```json
        {
          "detail": [
            {
              "loc": ["body", "transactions", 0, "date"],
              "msg": "invalid date format",
              "type": "value_error.date"
            }
          ]
        }
        ```
-   **–°—Ç–∞—Ç—É—Å `500 Internal Server Error`**:
    -   **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
    -   **–ß—Ç–æ –¥–µ–ª–∞—Ç—å:** –°–æ–æ–±—â–∏—Ç—å –±—ç–∫–µ–Ω–¥-–∫–æ–º–∞–Ω–¥–µ.

–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!